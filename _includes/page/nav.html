
<!-- Add section navigation controls for up / prev / next / down buttons to bottom of pages -->

{%- capture parentURL -%}{%- include functions/getURLParent.html url=page.url -%}{%- endcapture -%}
{% assign parentURL = parentURL | strip %}
{% assign parent = site.pages | where: "url", parentURL | first %}
{% assign parentLabel = parent.short | default: parent.title %}

{%- capture prevTitleURL -%}
  {%- include functions/getURLPrev.html url=page.url -%}
{%- endcapture -%}
{% assign prevTitleURLArray = prevTitleURL | strip | split: "||" %}

{%- capture nextTitleURL -%}
  {%- include functions/getURLNext.html url=page.url -%}
{%- endcapture -%}
{% assign nextTitleURLArray = nextTitleURL | strip | split: "||" %}

{% if page.links %}
  {% assign childURL = page.links[0].url %}
  {% capture childLabel %}{% include functions/getLinkTitle.html url=childURL %}{% endcapture %}
{% endif %}

<hr/>
<div id="nav-controls" class="text-center">

  {% if parentURL %}
    <a class="btn btn-primary pull-left" href="{{ parentURL | relative_url }}">
      <span class="icon fa fa-caret-up fa-sm"></span>
      <span class="content">{{ parentLabel }}</span>
    </a>
  {% endif %}

  {% if prevTitleURLArray %}
    <a class="btn btn-primary" href="{{ prevTitleURLArray[1] | relative_url }}">
      <span class="icon fa fa-backward fa-sm"></span>
      <span class="content">{{ prevTitleURLArray[0] }}</span>
    </a>
  {% else %}
    <a class="btn btn-primary disabled" href="">
      <span class="icon fa fa-backward fa-sm"></span>
      <span class="content">Previous section</span>
    </a>
  {% endif %}

  {% if nextTitleURLArray %}
    <a class="btn btn-primary" href="{{ nextTitleURLArray[1] | relative_url }}">
      <span class="icon fa fa-forward fa-sm"></span>
      <span class="content">{{ nextTitleURLArray[0] }}</span>
    </a>
  {% else %}
    <a class="btn btn-primary disabled" href="">
      <span class="icon fa fa-forward fa-sm"></span>
      <span class="content">Next section</span>
    </a>
  {% endif %}

  {% if childURL %}
    <a class="btn btn-primary pull-right" href="{{ childURL | relative_url }}">
      <span class="icon fa fa-caret-down fa-sm"></span>
      <span class="content">{{ childLabel }}</span>
    </a>
  {% else %}
    <a class="btn btn-primary pull-right disabled" href="">
      <span class="icon fa fa-caret-down fa-sm"></span>
      <span class="content">Begin section</span>
    </a>
  {% endif %}
</div>
